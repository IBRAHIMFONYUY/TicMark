<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AttendanceHub - Professional Attendance Management</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode/1.5.3/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsqr/1.4.0/jsQR.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/jsqr/dist/jsQR.js"></script>

    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

      * {
        font-family: "Inter", sans-serif;
      }
      body {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }


      .gradient-bg {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }
      .hidden-class {
        display: none;
      }

      .glass-effect {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .slide-in {
        animation: slideIn 0.5s ease-out;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .pulse-animation {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      .scanner-overlay {
        position: relative;
        overflow: hidden;
      }

      .scanner-line {
        position: absolute;
        width: 100%;
        height: 2px;
        background: linear-gradient(90deg, transparent, #10b981, transparent);
        animation: scan 2s linear infinite;
      }

      @keyframes scan {
        0% {
          top: 0;
        }
        100% {
          top: 100%;
        }
      }

      .status-indicator {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        display: inline-block;
        margin-right: 8px;
      }

      .status-online {
        background-color: #10b981;
      }
      .status-offline {
        background-color: #ef4444;
      }
      .status-away {
        background-color: #f59e0b;
      }

      .checkout-btn {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        transition: all 0.3s ease;
      }

      .checkout-btn:hover {
        background: linear-gradient(135deg, #d97706 0%, #b45309 100%);
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(245, 158, 11, 0.4);
      }

      .loading-spinner {
        border: 2px solid #f3f4f6;
        border-top: 2px solid #3b82f6;
        border-radius: 50%;
        width: 20px;
        height: 20px;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .notification {
        transform: translateX(100%);
        transition: transform 0.3s ease-in-out;
      }

      .notification.show {
        transform: translateX(0);
      }

      .error-message {
        color: #ef4444;
        font-size: 0.875rem;
        margin-top: 0.25rem;
      }

      .offline-indicator {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: #ef4444;
        color: white;
        text-align: center;
        padding: 0.5rem;
        z-index: 1000;
        transform: translateY(-100%);
        transition: transform 0.3s ease;
      }

      .offline-indicator.show {
        transform: translateY(0);
      }

      @media (max-width: 640px) {
        .grid {
          grid-template-columns: repeat(1, minmax(0, 1fr));

        }
        .qrgen{
          display: none;
        }
        .sta-msg{
          display:none
        }
      }
    </style>
  </head>
  <body class="bg-gray-50 min-h-screen">
    <!-- Offline Indicator -->
    <div id="offlineIndicator" class="offline-indicator">
      <i class="fas fa-wifi-slash mr-2"></i>
      You're offline. Some features may not work properly.
    </div>

    <!-- Notification Container -->
    <div
      id="notificationContainer"
      class="fixed top-4 right-4 z-50 space-y-2"
    ></div>

    <!-- Loading Overlay -->
    <div
      id="loadingOverlay"
      class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden"
    >
      <div class="bg-white rounded-lg p-6 flex items-center space-x-3">
        <div class="loading-spinner"></div>
        <span class="text-gray-700">Processing...</span>
      </div>
    </div>

    <!-- Main Container -->
    <div id="app" class="min-h-screen">
      <!-- Landing Page -->
      <div
        id="landingPage"
        class="gradient-bg min-h-screen flex items-center justify-center p-4"
      >
        <div class="max-w-4xl mx-auto text-center text-white slide-in">
          <div class="mb-8">
            <i class="fas fa-clipboard-check text-6xl mb-4 opacity-90"></i>
            <h1 class="text-5xl font-bold mb-4">AttendanceHub</h1>
            <p class="text-xl opacity-90 mb-8">
              Professional Attendance Management Platform
            </p>
          </div>

          <div class="grid md:grid-cols-2 gap-6 mb-8">
            <div class="glass-effect rounded-xl p-6">
              <i class="fas fa-user-graduate text-3xl mb-4"></i>
              <h3 class="text-xl font-semibold mb-2">Intern Portal</h3>
              <p class="opacity-80 mb-4">
                Mark attendance with QR codes or manual check-in/out
              </p>
              <button
                onclick="showLogin('intern')"
                class="bg-white text-blue-600 px-6 py-2 rounded-lg font-medium hover:bg-gray-100 transition-colors"
              >
                Intern Login
              </button>
            </div>

            <div class="glass-effect rounded-xl p-6">
              <i class="fas fa-user-tie text-3xl mb-4"></i>
              <h3 class="text-xl font-semibold mb-2">Admin Portal</h3>
              <p class="opacity-80 mb-4">
                Manage interns and monitor real-time attendance
              </p>
              <button
                onclick="showLogin('admin')"
                class="bg-white text-blue-600 px-6 py-2 rounded-lg font-medium hover:bg-gray-100 transition-colors"
              >
                Admin Login
              </button>
            </div>
          </div>

          <div class="text-sm opacity-75">
            <p>Secure • Real-time • Location-verified • Professional</p>
            <p class="mt-2">Company Location: 3.0°N, 11.0°E (TIC Foundation)</p>
          </div>
        </div>
      </div>

      <!-- Login Page -->
      <div
        id="loginPage"
        class="hidden min-h-screen gradient-bg flex items-center justify-center p-4"
      >
        <div
          class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md slide-in"
        >
          <div class="text-center mb-8">
            <i class="fas fa-clipboard-check text-4xl text-blue-600 mb-4"></i>
            <h2 class="text-2xl font-bold text-gray-800" id="loginTitle">
              Login
            </h2>
            <p class="text-gray-600" id="loginSubtitle">
              Access your dashboard
            </p>
          </div>

          <form id="loginForm" class="space-y-6">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Email</label
              >
              <input
                type="email"
                id="loginEmail"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
              />
              <div id="loginEmailError" class="error-message hidden"></div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Password</label
              >
              <div class="relative">
                <input
                  type="password"
                  id="loginPassword"
                  required
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-12"
                />
                <button
                  type="button"
                  onclick="togglePassword('loginPassword')"
                  class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700"
                >
                  <i class="fas fa-eye"></i>
                </button>
              </div>
              <div id="loginPasswordError" class="error-message hidden"></div>
            </div>

            <div class="flex items-center justify-between">
              <label class="flex items-center">
                <input
                  type="checkbox"
                  class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                />
                <span class="ml-2 text-sm text-gray-600">Remember me</span>
              </label>
              <button
                type="button"
                onclick="showForgotPassword()"
                class="text-sm text-blue-600 hover:text-blue-800"
              >
                Forgot password?
              </button>
            </div>

            <button
              type="submit"
              class="w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
            >
              Sign In
            </button>
          </form>

          <div class="mt-6">
            <div class="relative">
              <div class="absolute inset-0 flex items-center">
                <div class="w-full border-t border-gray-300"></div>
              </div>
              <div class="relative flex justify-center text-sm">
                <span class="px-2 bg-white text-gray-500"
                  >Or continue with</span
                >
              </div>
            </div>

            <button
              onclick="signInWithGoogle(window.userRole)"
              class="mt-4 w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors"
            >
              <svg class="w-5 h-5 mr-3" viewBox="0 0 24 24">
                <path
                  fill="#4285F4"
                  d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                />
                <path
                  fill="#34A853"
                  d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                />
                <path
                  fill="#FBBC05"
                  d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                />
                <path
                  fill="#EA4335"
                  d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                />
              </svg>
              Continue with Google
            </button>
          </div>

          <div class="mt-6 text-center">
            <p class="text-sm text-gray-600">
              Don't have an account?
              <button
                onclick="showSignup()"
                class="text-blue-600 hover:text-blue-800 font-medium"
              >
                Sign up
              </button>
            </p>
          </div>

          <button
            onclick="showLanding()"
            class="mt-4 text-sm text-gray-500 hover:text-gray-700 flex items-center mx-auto"
          >
            <i class="fas fa-arrow-left mr-2"></i>Back to home
          </button>
        </div>
      </div>

      <!-- Signup Page -->
      <div
        id="signupPage"
        class="hidden min-h-screen gradient-bg flex items-center justify-center p-4"
      >
        <div
          class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md slide-in"
        >
          <div class="text-center mb-8">
            <i class="fas fa-user-plus text-4xl text-blue-600 mb-4"></i>
            <h2 class="text-2xl font-bold text-gray-800">Create Account</h2>
            <p class="text-gray-600">Join AttendanceHub</p>
          </div>

          <form id="signupForm" class="space-y-6">
            <div class="grid grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2"
                  >First Name</label
                >
                <input
                  type="text"
                  id="firstName"
                  required
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                />
                <div id="firstNameError" class="error-message hidden"></div>
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2"
                  >Last Name</label
                >
                <input
                  type="text"
                  id="lastName"
                  required
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                />
                <div id="lastNameError" class="error-message hidden"></div>
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Email</label
              >
              <input
                type="email"
                id="signupEmail"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
              />
              <div id="signupEmailError" class="error-message hidden"></div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Employee ID</label
              >
              <input
                type="text"
                id="employeeId"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
              />
              <div id="employeeIdError" class="error-message hidden"></div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Department</label
              >
              <select
                id="department"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
              >
                <option value="">Select Department</option>
                <option value="Web Dev">Web Dev</option>
                <option value="Marketing">Marketing</option>
                <option value="Human Resources">Human Resources</option>
                <option value="Designing">Designing</option>
                <option value="Cyber Security">Cyber Security</option>
              </select>
              <div id="departmentError" class="error-message hidden"></div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Password</label
              >
              <div class="relative">
                <input
                  type="password"
                  id="signupPassword"
                  required
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-12"
                />
                <button
                  type="button"
                  onclick="togglePassword('signupPassword')"
                  class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700"
                >
                  <i class="fas fa-eye"></i>
                </button>
              </div>
              <div class="mt-2 text-xs text-gray-500">
                Password must be at least 8 characters with uppercase,
                lowercase, and number
              </div>
              <div id="signupPasswordError" class="error-message hidden"></div>
            </div>

            <button
              type="submit"
              class="w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
            >
              Create Account
            </button>
          </form>

          <div class="mt-6">
            <div class="relative">
              <div class="absolute inset-0 flex items-center">
                <div class="w-full border-t border-gray-300"></div>
              </div>
              <div class="relative flex justify-center text-sm">
                <span class="px-2 bg-white text-gray-500">Or sign up with</span>
              </div>
            </div>

            <button
              onclick="signInWithGoogle('intern')"
              class="mt-4 w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors"
            >
              <svg class="w-5 h-5 mr-3" viewBox="0 0 24 24">
                <path
                  fill="#4285F4"
                  d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                />
                <path
                  fill="#34A853"
                  d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                />
                <path
                  fill="#FBBC05"
                  d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                />
                <path
                  fill="#EA4335"
                  d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                />
              </svg>
              Sign up with Google
            </button>
          </div>

          <div class="mt-6 text-center">
            <p class="text-sm text-gray-600">
              Already have an account?
              <button
                onclick="showLogin('intern')"
                class="text-blue-600 hover:text-blue-800 font-medium"
              >
                Sign in
              </button>
            </p>
          </div>

          <button
            onclick="showLanding()"
            class="mt-4 text-sm text-gray-500 hover:text-gray-700 flex items-center mx-auto"
          >
            <i class="fas fa-arrow-left mr-2"></i>Back to home
          </button>
        </div>
      </div>

      <!-- Forgot Password Page -->
      <div
        id="forgotPasswordPage"
        class="hidden min-h-screen gradient-bg flex items-center justify-center p-4"
      >
        <div
          class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md slide-in"
        >
          <div class="text-center mb-8">
            <i class="fas fa-key text-4xl text-blue-600 mb-4"></i>
            <h2 class="text-2xl font-bold text-gray-800">Reset Password</h2>
            <p class="text-gray-600">
              Enter your email to receive reset instructions
            </p>
          </div>

          <form id="forgotPasswordForm" class="space-y-6">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Email Address</label
              >
              <input
                type="email"
                id="resetEmail"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
              />
              <div id="resetEmailError" class="error-message hidden"></div>
            </div>

            <button
              type="submit"
              class="w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
            >
              Send Reset Link
            </button>
          </form>

          <div class="mt-6 text-center">
            <button
              onclick="showLogin('intern')"
              class="text-sm text-blue-600 hover:text-blue-800 font-medium"
            >
              Back to login
            </button>
          </div>
        </div>
      </div>

      <!-- Intern Dashboard -->
      <div id="internDashboard" class="hidden min-h-screen bg-gray-50">
        <!-- Header -->
        <header class="bg-white shadow-sm border-b">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
              <div class="flex items-center">
                <i
                  class="fas fa-clipboard-check text-2xl text-blue-600 mr-3"
                ></i>
                <h1 class="text-xl font-semibold text-gray-900">
                  AttendanceHub
                </h1>
                <div class="ml-4 flex items-center">
                  <span class="status-indicator status-online"></span>
                  <span class="sta-msg text-sm text-gray-600"
                    >Real-time sync active</span
                  >
                </div>
              </div>

              <div class="flex items-center space-x-4">
                <div class="relative">
                  <button
                    onclick="toggleUserMenu()"
                    class="flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100"
                  >
                    <div
                      id="userAvatar"
                      class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm font-medium"
                    >
                      U
                    </div>
                    <span
                      id="userName"
                      class="text-sm font-medium text-gray-700"
                      >User</span
                    >
                    <i class="fas fa-chevron-down text-xs text-gray-500"></i>
                  </button>

                  <div
                    id="userMenu"
                    class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border z-10"
                  >
                    <div class="py-1">
                      <button
                        onclick="showProfile()"
                        class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                      >
                        <i class="fas fa-user mr-2"></i>Profile
                      </button>
                      <button
                        onclick="showSettings()"
                        class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                      >
                        <i class="fas fa-cog mr-2"></i>Settings
                      </button>
                      <hr class="my-1" />
                      <button
                        onclick="logout()"
                        class="block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100"
                      >
                        <i class="fas fa-sign-out-alt mr-2"></i>Logout
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </header>

        <!-- Main Content -->
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <!-- Current Status Card -->
          <div
            id="currentStatusCard"
            class="bg-white rounded-xl shadow-sm p-6 border mb-8"
          >
            <div class="flex items-center justify-between">
              <div>
                <h3 class="text-lg font-semibold text-gray-900 mb-2">
                  Current Status
                </h3>
                <div id="currentStatus" class="flex items-center">
                  <span class="status-indicator status-offline"></span>
                  <span class="text-gray-600">Not checked in</span>
                </div>
              </div>
              <div class="text-right">
                <div id="workingHours" class="text-2xl font-bold text-gray-900">
                  0:00
                </div>
                <div class="text-sm text-gray-500">Hours today</div>
              </div>
            </div>
          </div>

          <!-- Quick Stats -->
          <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <div class="bg-white rounded-xl shadow-sm p-6 border">
              <div class="flex items-center">
                <div class="p-3 bg-green-100 rounded-lg">
                  <i class="fas fa-calendar-check text-green-600 text-xl"></i>
                </div>
                <div class="ml-4">
                  <p class="text-sm font-medium text-gray-600">This Month</p>
                  <p
                    id="monthlyAttendance"
                    class="text-2xl font-bold text-gray-900"
                  >
                    0/0
                  </p>
                </div>
              </div>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-6 border">
              <div class="flex items-center">
                <div class="p-3 bg-blue-100 rounded-lg">
                  <i class="fas fa-clock text-blue-600 text-xl"></i>
                </div>
                <div class="ml-4">
                  <p class="text-sm font-medium text-gray-600">Avg. Hours</p>
                  <p id="avgHours" class="text-2xl font-bold text-gray-900">
                    0h
                  </p>
                </div>
              </div>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-6 border">
              <div class="flex items-center">
                <div class="p-3 bg-yellow-100 rounded-lg">
                  <i
                    class="fas fa-exclamation-triangle text-yellow-600 text-xl"
                  ></i>
                </div>
                <div class="ml-4">
                  <p class="text-sm font-medium text-gray-600">Late Days</p>
                  <p id="lateDays" class="text-2xl font-bold text-gray-900">
                    0
                  </p>
                </div>
              </div>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-6 border">
              <div class="flex items-center">
                <div class="p-3 bg-purple-100 rounded-lg">
                  <i class="fas fa-trophy text-purple-600 text-xl"></i>
                </div>
                <div class="ml-4">
                  <p class="text-sm font-medium text-gray-600">Streak</p>
                  <p id="streak" class="text-2xl font-bold text-gray-900">
                    0 days
                  </p>
                </div>
              </div>
            </div>
          </div>

          <!-- Check-in/out Section -->
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- QR Code Check-in/out -->
            <div class="bg-white rounded-xl shadow-sm p-6 border">
              <h3
                class="text-lg font-semibold text-gray-900 mb-4 flex items-center"
              >
                <i class="fas fa-qrcode text-blue-600 mr-2"></i>
                QR Code Scanner
              </h3>
              <div class="text-center">
                <div
                  id="qrScanner"
                  class="scanner-overlay bg-gray-100 rounded-lg p-8 mb-4 relative"
                >
                  <div class="scanner-line"></div>
                  <i class="fas fa-camera text-4xl text-gray-400 mb-4"></i>
                  <p class="text-gray-600 mb-4">
                    Scan QR code to check-in or check-out
                  </p>
                </div>
                <video
                  id="qrVideo"
                  class="hidden w-full rounded-lg max-w-full"
                ></video>
                <canvas id="qrCanvas" class="hidden"></canvas>
                <div
                  class="flex flex-col mt-5 sm:flex-row gap-2 justify-center"
                >
                  <button
                    onclick="startQRScan()"
                    class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors"
                  >
                    <i class="fas fa-play mr-2"></i>Start Camera
                  </button>
                  <button
                    onclick="stopQRScan()"
                    class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors"
                  >
                    <i class="fas fa-stop mr-2"></i>Stop Camera
                  </button>
                </div>
              </div>
            </div>

            <!-- Manual Check-in/out -->
            <div class="bg-white rounded-xl shadow-sm p-6 border">
              <h3
                class="text-lg font-semibold text-gray-900 mb-4 flex items-center"
              >
                <i class="fas fa-hand-pointer text-green-600 mr-2"></i>
                Manual Check-in/out
              </h3>

              <div class="text-center">
                <div class="bg-gray-50 rounded-lg p-8 mb-4">
                  <div id="locationStatus" class="mb-4">
                    <i
                      class="fas fa-map-marker-alt text-2xl text-green-500 mb-2"
                    ></i>
                    <p
                      class="text-green-600 font-medium"
                      id="locationMessage"
                    ></p>
                    <p class="text-xs text-gray-500" id="locationDistance"></p>
                  </div>

                  <div
                    id="checkInTime"
                    class="text-3xl font-bold text-gray-900 mb-2"
                  >
                    --:-- --
                  </div>
                  <div class="text-sm text-gray-500 mb-4" id="currentDate">
                    Loading...
                  </div>

                  <div id="attendanceButtons" class="space-y-3">
                    <button
                      id="checkInBtn"
                      onclick="manualCheckIn()"
                      class="w-full bg-green-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-green-700 transition-colors pulse-animation"
                    >
                      <i class="fas fa-sign-in-alt mr-2"></i>Check In Now
                    </button>

                    <button
                      id="checkOutBtn"
                      onclick="manualCheckOut()"
                      class="w-full checkout-btn text-white px-8 py-3 rounded-lg font-medium hidden"
                    >
                      <i class="fas fa-sign-out-alt mr-2"></i>Check Out Now
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Recent Activity & Calendar -->
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Recent Activity -->
            <div class="bg-white rounded-xl shadow-sm p-6 border">
              <h3
                class="text-lg font-semibold text-gray-900 mb-4 flex items-center"
              >
                <i class="fas fa-history text-purple-600 mr-2"></i>
                Recent Activity
              </h3>

              <div id="recentActivity" class="space-y-4">
                <div class="text-center text-gray-500 py-8">
                  <i class="fas fa-clock text-2xl mb-2"></i>
                  <p>No recent activity</p>
                </div>
              </div>

              <button
                class="w-full mt-4 text-blue-600 hover:text-blue-800 text-sm font-medium"
              >
                View All Activity
              </button>
            </div>

            <!-- Mini Calendar -->
            <div class="bg-white rounded-xl shadow-sm p-6 border">
              <h3
                class="text-lg font-semibold text-gray-900 mb-4 flex items-center"
              >
                <i class="fas fa-calendar text-indigo-600 mr-2"></i>
                Attendance Calendar
              </h3>

              <div id="attendanceCalendar">
                <div class="text-center mb-4">
                  <h4
                    class="text-lg font-semibold text-gray-900"
                    id="calendarMonth"
                  >
                    Loading...
                  </h4>
                </div>
                <div
                  class="grid grid-cols-7 gap-1 text-center text-xs font-medium text-gray-500 mb-2"
                >
                  <div>Sun</div>
                  <div>Mon</div>
                  <div>Tue</div>
                  <div>Wed</div>
                  <div>Thu</div>
                  <div>Fri</div>
                  <div>Sat</div>
                </div>
                <div class="grid grid-cols-7 gap-1" id="calendarDays">
                  <!-- Calendar days will be generated here -->
                </div>
              </div>
            </div>
          </div>
        </main>
      </div>

      <!-- Profile Modal -->
      <div
        id="profileModal"
        class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
      >
        <div
          class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md slide-in"
        >
          <div class="text-center mb-6">
        <div
          id="profileAvatar"
          class="w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center text-white text-2xl font-bold mx-auto mb-4"
        >
          U
        </div>
        <h2 class="text-2xl font-bold text-gray-800">Profile</h2>
          </div>

          <form id="profileForm" class="space-y-4">
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
          >First Name</label
            >
            <input
          type="text"
          id="profileFirstName"
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
          >Last Name</label
            >
            <input
          type="text"
          id="profileLastName"
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            />
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2"
            >Email</label
          >
          <input
            type="email"
            id="profileEmail"
            disabled
            class="w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50"
          />
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2"
            >Employee ID</label
          >
          <input
            type="text"
            id="profileEmployeeId"
            disabled
            class="w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50"
          />
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2"
            >Department</label
          >
          <select
            id="profileDepartment"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
          >
            <option value="">Select Department</option>
            <option value="engineering">Engineering</option>
            <option value="marketing">Marketing</option>
            <option value="hr">Human Resources</option>
            <option value="finance">Finance</option>
            <option value="operations">Operations</option>
          </select>
        </div>

        <div class="flex space-x-3 pt-4">
          <button
            type="submit"
            class="flex-1 bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors"
          >
            Update Profile
          </button>
          <button
            type="button"
            onclick="closeProfile()"
            class="flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-400 transition-colors"
          >
            Cancel
          </button>
        </div>
          </form>
        </div>
      </div>

      <!-- Settings Modal -->
      <div
        id="settingsModal"
        class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
      >
        <div
          class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md slide-in"
        >
          <div class="text-center mb-6">
        <i class="fas fa-cog text-4xl text-gray-600 mb-4"></i>
        <h2 class="text-2xl font-bold text-gray-800">Settings</h2>
          </div>

          <div class="space-y-4">
        <div
          class="flex items-center justify-between p-4 bg-gray-50 rounded-lg"
        >
          <div>
            <h3 class="font-medium text-gray-900">Email Notifications</h3>
            <p class="text-sm text-gray-500">
          Receive attendance reminders
            </p>
          </div>
          <label class="relative inline-flex items-center cursor-pointer">
            <input
          type="checkbox"
          id="emailNotifications"
          class="sr-only peer"
          checked
            />
            <div
          class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"
            ></div>
          </label>
        </div>

        <div
          class="flex items-center justify-between p-4 bg-gray-50 rounded-lg"
        >
          <div>
            <h3 class="font-medium text-gray-900">Location Tracking</h3>
            <p class="text-sm text-gray-500">Verify attendance location</p>
          </div>
          <label class="relative inline-flex items-center cursor-pointer">
            <input
          type="checkbox"
          id="locationTracking"
          class="sr-only peer"
          checked
            />
            <div
          class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"
            ></div>
          </label>
        </div>

        <div
          class="flex items-center justify-between p-4 bg-gray-50 rounded-lg"
        >
          <div>
            <h3 class="font-medium text-gray-900">Dark Mode</h3>
            <p class="text-sm text-gray-500">Switch to dark theme</p>
          </div>
          <label class="relative inline-flex items-center cursor-pointer">
            <input type="checkbox" id="darkMode" class="sr-only peer" />
            <div
          class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"
            ></div>
          </label>
        </div>

        <button
          onclick="changePassword()"
          class="w-full flex items-center justify-center p-4 bg-yellow-50 hover:bg-yellow-100 rounded-lg transition-colors"
        >
          <i class="fas fa-key text-yellow-600 mr-3"></i>
          <span class="text-yellow-700 font-medium">Change Password</span>
        </button>
          </div>

          <div class="flex space-x-3 pt-6">
        <button
          onclick="saveSettings()"
          class="flex-1 bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors"
        >
          Save Settings
        </button>
        <button
          onclick="closeSettings()"
          class="flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-400 transition-colors"
        >
          Cancel
        </button>
          </div>
        </div>
      </div>

      <!-- Add Intern Modal -->
      <div
        id="addInternModal"
        class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
      >
        <div
          class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-4xl slide-in max-h-[90vh] overflow-y-auto slide-in"
        >
          <div class="text-center mb-6">
        <i class="fas fa-user-plus text-4xl text-blue-600 mb-4"></i>
        <h2 class="text-2xl font-bold text-gray-800">Add New Intern</h2>
          </div>

          <form id="addInternForm" class="space-y-4">
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
          >First Name</label
            >
            <input
          type="text"
          id="newInternFirstName"
          required
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
          >Last Name</label
            >
            <input
          type="text"
          id="newInternLastName"
          required
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            />
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2"
            >Email</label
          >
          <input
            type="email"
            id="newInternEmail"
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
          />
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2"
            >Employee ID</label
          >
          <input
            type="text"
            id="newInternEmployeeId"
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
          />
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2"
            >Department</label
          >
          <select
            id="newInternDepartment"
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              >
                <option value="">Select Department</option>
                <option value="engineering">Engineering</option>
                <option value="marketing">Marketing</option>
                <option value="hr">Human Resources</option>
                <option value="finance">Finance</option>
                <option value="operations">Operations</option>
              </select>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Temporary Password</label
              >
              <input
                type="password"
                id="newInternPassword"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              />
              <p class="text-xs text-gray-500 mt-1">
                Intern will be asked to change this on first login
              </p>
            </div>

            <div class="flex space-x-3 pt-4">
              <button
                type="submit"
                class="flex-1 bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors"
              >
                Add Intern
              </button>
              <button
                type="button"
                onclick="closeAddIntern()"
                class="flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-400 transition-colors"
              >
                Cancel
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Profile Completion Modal -->
      <div
        id="profileCompletionModal"
        class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
      >
        <div
          class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-4xl slide-in max-h-[90vh] overflow-y-auto slide-in"
        >
          <div class="text-center mb-6">
            <div
              id="googleUserAvatar"
              class="w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center text-white text-2xl font-bold mx-auto mb-4"
            >
              <img
                id="googleUserPhoto"
                class="w-20 h-20 rounded-full hidden"
                alt="Profile"
              />
              <span id="googleUserInitials">U</span>
            </div>
            <h2 class="text-2xl font-bold text-gray-800">
              Complete Your Profile
            </h2>
            <p class="text-gray-600">
              Please provide additional information to complete your account
              setup
            </p>
          </div>

          <form id="profileCompletionForm" class="space-y-4">
            <div class="grid grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2"
                  >First Name</label
                >
                <input
                  type="text"
                  id="googleFirstName"
                  required
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2"
                  >Last Name</label
                >
                <input
                  type="text"
                  id="googleLastName"
                  required
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                />
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Email</label
              >
              <input
                type="email"
                id="googleEmail"
                disabled
                class="w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50"
              />
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Employee ID</label
              >
              <input
                type="text"
                id="googleEmployeeId"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              />
              <p class="text-xs text-gray-500 mt-1">
                Auto-generated ID can be modified
              </p>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Department</label
              >
              <select
                id="googleDepartment"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              >
                <option value="">Select Department</option>
                <option value="engineering">Engineering</option>
                <option value="marketing">Marketing</option>
                <option value="hr">Human Resources</option>
                <option value="finance">Finance</option>
                <option value="operations">Operations</option>
              </select>
            </div>

            <div class="bg-blue-50 p-4 rounded-lg">
              <div class="flex items-center">
                <i class="fas fa-info-circle text-blue-600 mr-2"></i>
                <p class="text-sm text-blue-800">
                  Your Google account will be used for secure authentication
                </p>
              </div>
            </div>

            <button
              type="submit"
              class="w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors"
            >
              Complete Profile
            </button>
          </form>
        </div>
      </div>

      <!-- Reports Modal -->
      <div
        id="reportsModal"
        class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
      >
        <div
          class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-4xl slide-in max-h-[90vh] overflow-y-auto"
        >
          <div class="text-center mb-6">
            <i class="fas fa-chart-bar text-4xl text-orange-600 mb-4"></i>
            <h2 class="text-2xl font-bold text-gray-800">Attendance Reports</h2>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
            <div class="bg-blue-50 p-4 rounded-lg">
              <h3 class="font-semibold text-blue-900 mb-2">This Week</h3>
              <p class="text-2xl font-bold text-blue-600" id="weeklyAttendance">
                0%
              </p>
              <p class="text-sm text-blue-700">Average attendance</p>
            </div>
            <div class="bg-green-50 p-4 rounded-lg">
              <h3 class="font-semibold text-green-900 mb-2">This Month</h3>
              <p
                class="text-2xl font-bold text-green-600"
                id="monthlyAttendanceRate"
              >
                0%
              </p>
              <p class="text-sm text-green-700">Attendance rate</p>
            </div>
            <div class="bg-purple-50 p-4 rounded-lg">
              <h3 class="font-semibold text-purple-900 mb-2">Total Hours</h3>
              <p class="text-2xl font-bold text-purple-600" id="totalHours">
                0h
              </p>
              <p class="text-sm text-purple-700">This month</p>
            </div>
          </div>

          <div class="bg-gray-50 p-4 rounded-lg mb-6">
            <h3 class="font-semibold text-gray-900 mb-4">Recent Activity</h3>
            <div
              id="reportsActivity"
              class="space-y-2 max-h-60 overflow-y-auto"
            >
              <!-- Activity items will be populated here -->
            </div>
          </div>

          <div class="flex justify-end space-x-3">
            <button
              onclick="viewEmailLog()"
              class="bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors"
            >
              <i class="fas fa-envelope mr-2"></i>Email Log
            </button>
            <button
              onclick="exportReports()"
              class="bg-green-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-green-700 transition-colors"
            >
              <i class="fas fa-download mr-2"></i>Export CSV
            </button>
            <button
              onclick="closeReports()"
              class="bg-gray-300 text-gray-700 px-6 py-3 rounded-lg font-medium hover:bg-gray-400 transition-colors"
            >
              Close
            </button>
          </div>
        </div>
      </div>

      <!-- Email Log Modal -->
      <div
        id="emailLogModal"
        class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
      >
        <div
          class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-4xl slide-in max-h-[90vh] overflow-y-auto"
        >
          <div class="text-center mb-6">
            <i class="fas fa-envelope text-4xl text-blue-600 mb-4"></i>
            <h2 class="text-2xl font-bold text-gray-800">
              Email Notification Log
            </h2>
            <p class="text-gray-600">View all sent email notifications</p>
          </div>

          <div class="mb-4 flex justify-between items-center">
            <div class="flex space-x-2">
              <button
                onclick="clearEmailLog()"
                class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors"
              >
                <i class="fas fa-trash mr-2"></i>Clear Log
              </button>
              <button
                onclick="exportEmailLog()"
                class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors"
              >
                <i class="fas fa-download mr-2"></i>Export
              </button>
            </div>
            <div class="text-sm text-gray-600">
              <span id="emailLogCount">0</span> emails sent
            </div>
          </div>

          <div class="bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto">
            <div id="emailLogContent" class="space-y-3">
              <!-- Email log entries will be populated here -->
            </div>
          </div>

          <div class="flex justify-end mt-6">
            <button
              onclick="closeEmailLog()"
              class="bg-gray-300 text-gray-700 px-6 py-3 rounded-lg font-medium hover:bg-gray-400 transition-colors"
            >
              Close
            </button>
          </div>
        </div>
      </div>

      <!-- Admin Dashboard -->
      <div id="adminDashboard" class="hidden min-h-screen bg-gray-50 overflow-x-hidden">
        <!-- Admin Header -->
        <header class="bg-white shadow-sm border-b">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
              <div class="flex items-center">
                <i class="fas fa-shield-alt text-2xl text-red-600 mr-3"></i>
                <h1 class="text-xl font-semibold text-gray-900">
                  Admin Dashboard
                </h1>
                <div class="ml-4 flex items-center">
                  <span class="status-indicator status-online"></span>
                  <span class="sta-msg text-sm text-gray-600"
                    >Real-time sync active</span
                  >
                </div>
              </div>

              <div class="flex items-center space-x-4">
                <button 
                  onclick="generateDailyQR()"
                  class="qrgen bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"
                >
                  <i class="fas fa-qrcode mr-2"></i>Generate QR
                </button>

                <div class="relative">
                  <button
                    onclick="toggleUserMenu('admin')"
                    class="flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100"
                  >
                    <div
                      id="adminAvatar"
                      class="w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white text-sm font-medium"
                    >
                      AD
                    </div>
                    <span
                      id="adminName"
                      class="text-sm font-medium text-gray-700"
                      >Admin</span
                    >
                    <i class="fas fa-chevron-down text-xs text-gray-500"></i>
                  </button>

                  <div
                    id="adminUserMenu"
                    class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border z-10"
                  >
                    <div class="py-1">
                      <button
                        onclick="showProfile()"
                        class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                      >
                        <i class="fas fa-user mr-2"></i>Profile
                      </button>
                      <button
                        onclick="showSettings()"
                        class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                      >
                        <i class="fas fa-cog mr-2"></i>Settings
                      </button>
                      <hr class="my-1" />
                      <button
                        onclick="logout()"
                        class="block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100"
                      >
                        <i class="fas fa-sign-out-alt mr-2"></i>Logout
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </header>

        <!-- Admin Content -->
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <!-- Admin Stats -->
          <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <div class="bg-white rounded-xl shadow-sm p-6 border">
              <div class="flex items-center">
                <div class="p-3 bg-blue-100 rounded-lg">
                  <i class="fas fa-users text-blue-600 text-xl"></i>
                </div>
                <div class="ml-4">
                  <p class="text-sm font-medium text-gray-600">Total Interns</p>
                  <p id="totalInterns" class="text-2xl font-bold text-gray-900">
                    17
                  </p>
                </div>
              </div>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-6 border">
              <div class="flex items-center">
                <div class="p-3 bg-green-100 rounded-lg">
                  <i class="fas fa-check-circle text-green-600 text-xl"></i>
                </div>
                <div class="ml-4">
                  <p class="text-sm font-medium text-gray-600">Present Today</p>
                  <p id="presentToday" class="text-2xl font-bold text-gray-900">
                    0
                  </p>
                </div>
              </div>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-6 border">
              <div class="flex items-center">
                <div class="p-3 bg-yellow-100 rounded-lg">
                  <i class="fas fa-clock text-yellow-600 text-xl"></i>
                </div>
                <div class="ml-4">
                  <p class="text-sm font-medium text-gray-600">
                    Currently Working
                  </p>
                  <p
                    id="currentlyWorking"
                    class="text-2xl font-bold text-gray-900"
                  >
                    0
                  </p>
                </div>
              </div>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-6 border">
              <div class="flex items-center">
                <div class="p-3 bg-red-100 rounded-lg">
                  <i class="fas fa-times-circle text-red-600 text-xl"></i>
                </div>
                <div class="ml-4">
                  <p class="text-sm font-medium text-gray-600">Absent Today</p>
                  <p id="absentToday" class="text-2xl font-bold text-gray-900">
                    0
                  </p>
                </div>
              </div>
            </div>
          </div>

          <!-- QR Code & Quick Actions -->
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- Daily QR Code -->
            <div class="bg-white rounded-xl shadow-sm p-6 border">
              <h3
                class="text-lg font-semibold text-gray-900 mb-4 flex items-center"
              >
                <i class="fas fa-qrcode text-blue-600 mr-2"></i>
                Today's QR Code
              </h3>

              <div class="text-center">
                <div id="dailyQRCode" class="bg-gray-50 rounded-lg p-8 mb-4">
                  <canvas id="qrCodeCanvas" class="mx-auto"></canvas>
                </div>

                <div class="text-sm text-gray-600 mb-4">
                  Valid until: <span class="font-medium">11:59 PM today</span>
                </div>

                <div class="flex space-x-2">
                  <button
                    onclick="generateDailyQR()"
                    class="flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors"
                  >
                    <i class="fas fa-refresh mr-2"></i>Regenerate
                  </button>
                  <button
                    onclick="downloadQR()"
                    class="flex-1 bg-gray-600 text-white py-2 rounded-lg hover:bg-gray-700 transition-colors"
                  >
                    <i class="fas fa-download mr-2"></i>Download
                  </button>
                </div>
              </div>
            </div>

            <!-- Quick Actions -->
            <div class="bg-white rounded-xl shadow-sm p-6 border">
              <h3
                class="text-lg font-semibold text-gray-900 mb-4 flex items-center"
              >
                <i class="fas fa-bolt text-yellow-600 mr-2"></i>
                Quick Actions
              </h3>

              <div class="space-y-3">
                <button
                  onclick="showAddIntern()"
                  class="w-full flex items-center p-3 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors"
                >
                  <i class="fas fa-user-plus text-blue-600 mr-3"></i>
                  <span class="text-blue-700 font-medium">Add New Intern</span>
                </button>

                <button
                  onclick="exportAttendance()"
                  class="w-full flex items-center p-3 bg-green-50 hover:bg-green-100 rounded-lg transition-colors"
                >
                  <i class="fas fa-file-export text-green-600 mr-3"></i>
                  <span class="text-green-700 font-medium"
                    >Export Attendance</span
                  >
                </button>

                <button
                  onclick="sendNotifications()"
                  class="w-full flex items-center p-3 bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors"
                >
                  <i class="fas fa-bell text-purple-600 mr-3"></i>
                  <span class="text-purple-700 font-medium"
                    >Send Notifications</span
                  >
                </button>

                <button
                  onclick="viewReports()"
                  class="w-full flex items-center p-3 bg-orange-50 hover:bg-orange-100 rounded-lg transition-colors"
                >
                  <i class="fas fa-chart-bar text-orange-600 mr-3"></i>
                  <span class="text-orange-700 font-medium">View Reports</span>
                </button>
              </div>
            </div>
          </div>

          <!-- Intern List -->
          <div class="bg-white rounded-xl shadow-sm border">
            <div class="p-6 border-b">
              <div class="block md:block lg:flex  justify-between items-center flex-wrap gap-4">
                <h3
                  class="py-3 text-lg font-semibold text-gray-900 flex items-center"
                >
                  <i class="fas fa-users text-indigo-600 mr-2"></i>
                  Intern Management
                </h3>

                <div class="block md:block lg:flex items-center flex-wrap gap-4">
                  <input
                    type="text"
                    id="searchInterns"
                    placeholder="Search interns..."
                    class="gap-4 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                  <select
                    id="filterDepartment"
                    class="gap-2 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  >
                    <option value="">All Departments</option>
                    <option value="engineering">Engineering</option>
                    <option value="marketing">Marketing</option>
                    <option value="hr">HR</option>
                    <option value="finance">Finance</option>
                    <option value="operations">Operations</option>
                  </select>
                </div>
              </div>
            </div>

            <div class="overflow-x-auto">
              <table class="w-full">
                <thead class="bg-gray-50">
                  <tr>
                    <th
                      class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                    >
                      Intern
                    </th>
                    <th
                      class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                    >
                      Department
                    </th>
                    <th
                      class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                    >
                      Status
                    </th>
                    <th
                      class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                    >
                      Check-in
                    </th>
                    <th
                      class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                    >
                      Check-out
                    </th>
                    <th
                      class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                    >
                      Hours
                    </th>
                    <th
                      class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                    >
                      Actions
                    </th>
                  </tr>
                </thead>
                <tbody
                  id="internsList"
                  class="bg-white divide-y divide-gray-200"
                >
                  <tr>
                    <td colspan="7" class="px-6 py-8 text-center text-gray-500">
                      <i class="fas fa-users text-2xl mb-2"></i>
                      <p>No interns found</p>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </main>
      </div>
    </div>

    <!-- Firebase SDK -->
    <script type="module" src="firebaseconfig.js"></script>

   <script src="ex.js"></script>
    <script>
      (function () {
        function c() {
          var b = a.contentDocument || a.contentWindow.document;
          if (b) {
            var d = b.createElement("script");
            d.innerHTML =
              "window.__CF$cv$params={r:'974c617ed55e259d',t:'MTc1NjEzODQ0OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";
            b.getElementsByTagName("head")[0].appendChild(d);
          }
        }
        if (document.body) {
          var a = document.createElement("iframe");
          a.height = 1;
          a.width = 1;
          a.style.position = "absolute";
          a.style.top = 0;
          a.style.left = 0;
          a.style.border = "none";
          a.style.visibility = "hidden";
          document.body.appendChild(a);
          if ("loading" !== document.readyState) c();
          else if (window.addEventListener)
            document.addEventListener("DOMContentLoaded", c);
          else {
            var e = document.onreadystatechange || function () {};
            document.onreadystatechange = function (b) {
              e(b);
              "loading" !== document.readyState &&
                ((document.onreadystatechange = e), c());
            };
          }
        }
      })();
    </script>
  </body>
</html>
